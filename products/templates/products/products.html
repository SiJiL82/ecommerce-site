{% extends "base.html" %}
{% load static %}

{% block page_header %}
	<div class="container header-container">
		<div class="row">
			<div class="col"></div>
		</div>
	</div>
{% endblock %}

{% block content %}
  <div class="container-fluid px-0">
    <div class="row brand-banner">
      <div class="col text-center">
        <div class="">
          <h2>Shop</h2>
        </div>
      </div>
    </div>
    <section class="mt-4 px-md-4 px-xs-1">
      <div class="row">
        {% for product in products %}
          <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3">
            <div class="card h-100">
              <img src="{{ product.image.url }}" alt="" class="img-fluid">
              <div class="card-body">
                <a href="{% url 'product_details' product.id %}" class="text-brand"><strong>{{ product.friendly_name }} {{ product.category }}</strong></a>
                <p class="small">{% if product.ready_to_ship %}Buy now for: {% else %}Request for: {% endif %}{{ product.sizes }}</p>
                <p><strong>Â£{{ product.price }}</strong></p>
                <a href="{% url 'product_details' product.id %}" class="btn w-100 border-brand-medium btn-brand">More details</a>
              </div>
            </div>
          </div>
          {% if forloop.counter|divisibleby:1 %}
            <div class="col-12 d-sm-none mb-4">
            </div>
          {% endif %}
          {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-none d-sm-block d-md-block d-lg-none mb-4">
            </div>
          {% endif %}
          {% if forloop.counter|divisibleby:3 %}
            <div class="col-12 d-none d-lg-block d-xl-none mb-4">
            </div>
          {% endif %}
          {% if forloop.counter|divisibleby:4 %}
            <div class="col-12 d-none d-xl-block mb-4">
            </div>
          {% endif %}
        {% empty %}
          <div class="col text-center">
            <h3 class="text-brand ">Sorry, there are currently no {{ current_category }} available</h3>
            <p>Please choose another product type from the menu!</p>
          </div>
        {% endfor %}
      </div>
    </section>
  </div>
{% endblock %}